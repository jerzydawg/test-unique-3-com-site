---
import Layout from '../layouts/Layout.astro';
import AboveFoldCTA from '../components/AboveFoldCTA.astro';
import RelatedContent from '../components/RelatedContent.astro';
import ProgramCities from '../components/ProgramCities.astro';
import { getSiteURL, getSiteName, getDomain, getKeywordId } from '../lib/site-config';
import { loadKeywordVariations } from '../lib/variations/shared/keyword-loader';

const SITE_URL = getSiteURL();
const SITE_NAME = getSiteName();
const DOMAIN = getDomain();
const keywordId = getKeywordId();

// Load keyword-specific variations with error handling
let h1Content = { h1: 'Affordable Connectivity Program (ACP) Free Phone' };
let metaContent = { 
  title: `Affordable Connectivity Program (ACP) 2025 | Free Internet & Phone Service | ${DOMAIN}`,
  description: 'Access federal Affordable Connectivity Program benefits for discounted internet and phone service. Receive up to $30 monthly savings ($75 on Tribal lands). Verify eligibility online and connect with approved providers instantly.'
};

try {
  const { getH1Variation, getMetaVariations } = await loadKeywordVariations(keywordId);
  h1Content = getH1Variation(DOMAIN, 'acp');
  metaContent = getMetaVariations(SITE_NAME, DOMAIN, 'acp');
} catch (e) {
  console.error('Failed to load keyword variations for ACP page:', e);
}

const title = metaContent.title;
const description = metaContent.description;

const structuredData = {"@context":"https://schema.org","@type":"Article","headline":"Affordable Connectivity Program (ACP) 2025: Free Internet & Phone Service","description":"Get free or discounted internet and phone service through the Affordable Connectivity Program (ACP) 2025. Up to $30/month discount ($75 on Tribal lands). Check eligibility, apply online, and find providers. No credit check required.","author": {"@type":"Organization","name":"Government Phone Service"
  },"publisher": {"@type":"Organization","name": DOMAIN,"url": SITE_URL
  },"datePublished":"2025-01-08","dateModified":"2025-01-08","mainEntityOfPage": {"@type":"WebPage","@id": `${SITE_URL}/acp-program`
  }
};

const faqData = {"@context":"https://schema.org","@type":"FAQPage","mainEntity": [
    {"@type":"Question","name":"What is the Affordable Connectivity Program (ACP)?","acceptedAnswer": {"@type":"Answer","text":"The Affordable Connectivity Program (ACP) is a federal benefit that helps low-income households pay for internet and phone service. It provides a monthly discount of up to $30 (or $75 on Tribal lands) to ensure everyone can stay connected."
      }
    },
    {"@type":"Question","name":"Who qualifies for ACP benefits?","acceptedAnswer": {"@type":"Answer","text":"Households with income at or below 200% of Federal Poverty Guidelines, or those participating in programs like SNAP, Medicaid, WIC, Free/Reduced-Price School Lunch, or Federal Pell Grant qualify for ACP benefits."
      }
    },
    {"@type":"Question","name":"Can I get ACP and Lifeline together?","acceptedAnswer": {"@type":"Answer","text":"Yes, eligible households can receive both ACP and Lifeline benefits for maximum savings on internet and phone service."
      }
    },
    {"@type":"Question","name":"Is there a credit check for ACP?","acceptedAnswer": {"@type":"Answer","text":"No, there are no credit checks required to qualify for the Affordable Connectivity Program."
      }
    },
    {"@type":"Question","name":"How long does ACP approval take?","acceptedAnswer": {"@type":"Answer","text":"Most applicants are approved instantly online. If documents are needed, approval may take 1–3 business days."
      }
    }
  ]
};
---

<Layout title={title} description={description}>
  <!-- Structured Data for Article -->
  <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
  <!-- FAQ Schema -->
  <script type="application/ld+json" set:html={JSON.stringify(faqData)} />

  <main class="prose lg:prose-xl mx-auto py-8 px-4">
    <!-- Breadcrumb Navigation -->
    <nav aria-label="Breadcrumb" class="mb-6" style={`color: ${designDNA.colors.text};`}>
      <ol class="flex items-center space-x-2 text-sm" style={`color: ${designDNA.colors.text};`}>
        <li><a href="/" class="hover:text-blue-600">Home</a></li>
        <li class="" style={`color: ${designDNA.colors.text};`}>/</li>
        <li class="" style={`color: ${designDNA.colors.text};`}>ACP Program</li>
      </ol>
    </nav>

    <h1 class="text-4xl font-bold mb-6" style={`color: ${designDNA.colors.text};`}>{h1Content.h1}</h1>

    <!-- CTA Above Fold -->
    <AboveFoldCTA context="acp" />
    
    <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-8" style={`color: ${designDNA.colors.text};`}>
      <p class="text-blue-800 font-medium">
        <strong>Quick Fact:</strong> The ACP provides up to $30/month discount on internet and phone service ($75 on Tribal lands). 
        <a href="/apply" rel="noreferrer" class="text-blue-600 hover:underline">Verify your eligibility now →</a>
      </p>
    </div>

    <section class="mb-8" style={`color: ${designDNA.colors.text};`}>
      <h2 class="text-2xl font-semibold mb-4" style={`color: ${designDNA.colors.text};`}>What is the Affordable Connectivity Program (ACP)?</h2>
      <p class="text-lg mb-4" style={`color: ${designDNA.colors.text};`}>
        The <strong>Affordable Connectivity Program (ACP)</strong> is a federal benefit that helps qualifying households pay for internet and phone service. ACP provides a monthly discount of up to $30 (or $75 on Tribal lands) to ensure everyone can maintain connectivity in our digital world.
      </p>
      <p class="" style={`color: ${designDNA.colors.text};`}>
        The ACP was created to bridge the digital divide and make high-speed internet and phone service accessible to all Americans. It can be combined with the <a href="/lifeline-program" class="text-blue-600 hover:underline">Lifeline Free Government Phone</a> for even greater savings.
      </p>
    </section>

    <section class="mb-8" style={`color: ${designDNA.colors.text};`}>
      <h2 class="text-2xl font-semibold mb-4" style={`color: ${designDNA.colors.text};`}>Who Qualifies for ACP Benefits?</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <h3 class="text-xl font-medium mb-3" style={`color: ${designDNA.colors.text};`}>Income-Based Eligibility</h3>
          <ul class="list-disc list-inside space-y-2" style={`color: ${designDNA.colors.text};`}>
            <li>Household income at or below 200% of the Federal Poverty Guidelines</li>
            <li>For a family of 4: $60,000 or less annually</li>
            <li>For a single person: $29,160 or less annually</li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-medium mb-3" style={`color: ${designDNA.colors.text};`}>Program-Based Eligibility</h3>
          <ul class="list-disc list-inside space-y-2" style={`color: ${designDNA.colors.text};`}>
            <li>SNAP (Food Stamps)</li>
            <li>Medicaid</li>
            <li>WIC (Women, Infants, and Children)</li>
            <li>Free/Reduced-Price School Lunch Program</li>
            <li>Federal Pell Grant (current award year)</li>
            <li>Tribal-specific programs for those living on Tribal lands</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="mb-8" style={`color: ${designDNA.colors.text};`}>
      <h2 class="text-2xl font-semibold mb-4" style={`color: ${designDNA.colors.text};`}>How to Apply for ACP Benefits</h2>
      <div class="bg-green-50 border border-green-200 rounded-lg p-6 mb-6" style={`color: ${designDNA.colors.text};`}>
        <h3 class="text-xl font-medium mb-4" style={`color: ${designDNA.colors.text};`}>Simple 4-Step Application Process</h3>
        <ol class="list-decimal list-inside space-y-3 text-green-700">
          <li><strong>Check Eligibility:</strong> <a href="/apply" rel="noreferrer" class="text-green-600 hover:underline">Use our eligibility checker</a> to see if you qualify</li>
          <li><strong>Gather Documents:</strong> Proof of income or program participation</li>
          <li><strong>Choose Provider:</strong> <a href="/providers" class="text-green-600 hover:underline">Find ACP providers</a> in your area</li>
          <li><strong>Apply Online:</strong> Complete application through your chosen provider</li>
        </ol>
      </div>
      <p class="" style={`color: ${designDNA.colors.text};`}>
        <strong>Ready to apply?</strong> Most applications are approved instantly online. No credit checks or hidden fees!
      </p>
    </section>

    <section class="mb-8" style={`color: ${designDNA.colors.text};`}>
      <h2 class="text-2xl font-semibold mb-4" style={`color: ${designDNA.colors.text};`}>ACP Benefits & Savings</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-blue-50 p-6 rounded-lg">
          <h3 class="text-xl font-medium mb-3" style={`color: ${designDNA.colors.text};`}>Monthly Savings</h3>
          <ul class="space-y-2 text-blue-700">
            <li>• Up to $30/month discount on internet service</li>
            <li>• Up to $75/month on Tribal lands</li>
            <li>• One-time $100 discount on devices</li>
            <li>• Can be combined with Lifeline benefits</li>
          </ul>
        </div>
        <div class="bg-green-50 p-6 rounded-lg">
          <h3 class="text-xl font-medium mb-3" style={`color: ${designDNA.colors.text};`}>Additional Benefits</h3>
          <ul class="space-y-2 text-green-700">
            <li>• Access to online education and telehealth</li>
            <li>• Job search and remote work opportunities</li>
            <li>• Stay connected with family and emergency services</li>
            <li>• No contracts or credit checks required</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="mb-8" style={`color: ${designDNA.colors.text};`}>
      <h2 class="text-2xl font-semibold mb-4" style={`color: ${designDNA.colors.text};`}>Frequently Asked Questions</h2>
      <div class="space-y-4">
        <div class="border border-gray-200 rounded-lg p-6">
          <h3 class="text-xl font-medium mb-3" style={`color: ${designDNA.colors.text};`}>Can I get ACP and Lifeline together?</h3>
          <p class="" style={`color: ${designDNA.colors.text};`}>Yes, eligible households can receive both ACP and Lifeline benefits for maximum savings. This can provide up to $34.25/month in combined discounts on your phone and internet service.</p>
        </div>
        
        <div class="border border-gray-200 rounded-lg p-6">
          <h3 class="text-xl font-medium mb-3" style={`color: ${designDNA.colors.text};`}>Is there a credit check for ACP?</h3>
          <p class="" style={`color: ${designDNA.colors.text};`}>No, there are no credit checks required to qualify for the Affordable Connectivity Program. Your eligibility is based on income or participation in qualifying government programs.</p>
        </div>
        
        <div class="border border-gray-200 rounded-lg p-6">
          <h3 class="text-xl font-medium mb-3" style={`color: ${designDNA.colors.text};`}>How long does ACP approval take?</h3>
          <p class="" style={`color: ${designDNA.colors.text};`}>Most applicants are approved instantly when applying online. If additional documents are needed for verification, approval may take 1–3 business days.</p>
        </div>
        
        <div class="border border-gray-200 rounded-lg p-6">
          <h3 class="text-xl font-medium mb-3" style={`color: ${designDNA.colors.text};`}>What documents do I need to apply?</h3>
          <p class="" style={`color: ${designDNA.colors.text};`}>You'll need proof of income (pay stubs, tax returns) or proof of participation in qualifying programs (benefit letters, award letters). Your chosen provider will guide you through the specific requirements.</p>
        </div>
        
        <div class="border border-gray-200 rounded-lg p-6">
          <h3 class="text-xl font-medium mb-3" style={`color: ${designDNA.colors.text};`}>Can I keep my current provider?</h3>
          <p class="" style={`color: ${designDNA.colors.text};`}>Yes, if your current internet or phone provider participates in the ACP program. Check with your provider or use our <a href="/providers" class="text-blue-600 hover:underline">provider finder</a> to see available options in your area.</p>
        </div>
      </div>
    </section>

    <section class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg mb-8" style={`color: ${designDNA.colors.text};`}>
      <h2 class="text-2xl font-bold mb-4" style={`color: ${designDNA.colors.text};`}>Ready to Get Connected?</h2>
      <p class="text-lg mb-6" style={`color: ${designDNA.colors.text};`}>Join millions of Americans who are already saving on their internet and phone service through the ACP program.</p>
      <div class="flex justify-center">
        <a href="/apply" rel="noreferrer" class="inline-block py-4 px-10 text-lg font-bold rounded-xl shadow-lg hover:shadow-2xl transform hover:scale-105 active:scale-95 transition-all duration-300 no-underline text-center" style={`background: linear-gradient(135deg, ${designDNA.colors.accent} 0%, ${designDNA.colors.accentDark || designDNA.colors.accent} 100%); color: white;`}>
          Check Your Eligibility
        </a>
        <a href="/providers" class="bg-transparent border-2 border-white hover:bg-white hover:text-blue-600 text-white font-bold py-4 px-8 rounded-lg text-lg transition duration-300 no-underline text-center">
          Find Providers
        </a>
      </div>
    </section>

    <!-- Program Cities Section -->
    <ProgramCities program="acp" />

    <!-- Related Content Section -->
    <RelatedContent currentPage="program" />

    <div class="bg-gray-50 p-6 rounded-lg mb-8" style={`color: ${designDNA.colors.text};`}>
      <p class="mb-4" style={`color: ${designDNA.colors.text};`}>
        <strong>Need help?</strong> Visit our <a href="/faq" class="text-blue-600 hover:underline">FAQ page</a> for more answers, or <a href="/contact" class="text-blue-600 hover:underline">contact us</a> for personalized assistance. 
        The ACP program is here to help you stay connected!
      </p>
    </div>

    <!-- Related Programs Section -->
    <section class="bg-white border-t border-gray-200 py-8">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-8" style={`color: ${designDNA.colors.text};`}>Related Programs & Resources</h2>
        <div class="grid md:grid-cols-3 gap-6 max-w-5xl mx-auto">
          <a href="/lifeline-program" class="bg-blue-50 rounded-lg p-6 hover:bg-blue-100 transition-colors">
            <h3 class="text-lg font-bold mb-2" style={`color: ${designDNA.colors.text};`}>Lifeline Program</h3>
            <p class="text-sm" style={`color: ${designDNA.colors.text};`}>Learn about the federal Lifeline program and how it can be combined with ACP for maximum savings.</p>
          </a>
          <a href="/programs" class="bg-green-50 rounded-lg p-6 hover:bg-green-100 transition-colors">
            <h3 class="text-lg font-bold mb-2" style={`color: ${designDNA.colors.text};`}>All Programs</h3>
            <p class="text-sm" style={`color: ${designDNA.colors.text};`}>Compare all available government phone and internet assistance programs in one place.</p>
          </a>
          <a href="/eligibility" class="bg-purple-50 rounded-lg p-6 hover:bg-purple-100 transition-colors">
            <h3 class="text-lg font-bold mb-2" style={`color: ${designDNA.colors.text};`}>Check Eligibility</h3>
            <p class="text-sm" style={`color: ${designDNA.colors.text};`}>Quickly check if you qualify for ACP and other government assistance programs.</p>
          </a>
        </div>
      </div>
    </section>
  </main>
</Layout>
